<!DOCTYPE HTML>
<html>
  <head>
    <title></title>
    <!--Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/bootstrap-theme.min.css"/>
    <script src="js/index.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="css/docs.css" />
    <script src="js/semantic.min.js"></script>
    <style>
      .nav li {
      display:table-cell !important;
      width: 1%;
      }
    </style>
    <script type="text/javascript">
      $(function () {
      // using context
      $('.context .ui.sidebar').sidebar({
      context: $('.context .bottom.segment')
      }).sidebar('attach events', '.context .menu .item');
      });
    </script>
  </head>
  <body>
  <input id="sexValue" type="hidden" />
    <div class="context" style="height:92.3%">
      <div class="ui top attached demo menu">
        <a class="item">
          <i class="sidebar icon"></i>
        </a>
        <div id="titleName" style="padding: .92857143em 1.14285714em;" class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
          undefine
          <button type="button" class="btn pull-right">
            <span class="glyphicon glyphicon-edit pull-right"></span>
          </button>
        </div>
      </div>
      <div class="ui bottom attached segment pushable">
        <div class="ui inverted labeled icon left inline vertical sidebar menu">
          <a id="manageChildrenLink" style="text-align: left;" class="item" href="index.html">
            <span class="glyphicon glyphicon-align-justify">
            </span>&nbsp;&nbsp;&nbsp; Manage Children
          </a>
        </div>
        <div class="pusher" style="height: 100%">
          <div class="ui basic segment" style="height: 100%">
            <ul class="nav nav-pills nav-justified">
              <li title="canvasWeight" class="active col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <a data-toggle="tab" href="#Weight" tag="canvasWeight">
                  <span class="glyphicon glyphicon-download-alt"></span>
                  <br />
                  Weight
                </a>
              </li>
              <li title="canvasHeight"  class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <a data-toggle="tab" href="#Height" tag="canvasHeight">
                  <span class="glyphicon glyphicon-stats"></span>
                  <br />
                  Height
                </a>
              </li>
              <li title="canvasHead"  class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                <a data-toggle="tab" href="#Head" tag="canvasHead">
                  <span
                            class="glyphicon glyphicon-user"></span>
                  <br />
                  Head
                </a>
              </li>
            </ul>
            <div class="tab-content" style="height: 100%; margin-top:10px;">
              <div id="Weight" class="tab-pane fade in active" style="height: 100%">
                <div style="width: 90%; height: 80%; margin-left: auto; margin-right: auto;">
                  <canvas id="canvasWeight" style="height: 100%"></canvas>
                </div>
              </div>
              <div id="Height" class="tab-pane fade" style="height: 100%">
                <div style="width: 90%; height: 80%; margin-left: auto; margin-right: auto;">
                  <canvas id="canvasHeight" style="height: 100%"></canvas>
                </div>
              </div>
              <div id="Head" class="tab-pane fade" style="height: 100%">
                <div style="width: 90%; height: 80%; margin-left: auto; margin-right: auto;">
                  <canvas id="canvasHead" style="height: 100%"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      // Define data

      var randomScalingFactor = function(){ return Math.round(Math.random())};
	  
      var standarWeightBoyData = {
      labels : ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"],
      datasets : [
      {
      label: "-3SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.1,2.2,2.4,2.6,2.9,3.1,3.3,3.5,3.7,3.8,4.0,4.2,4.3,4.4]
      },
      {
      label: "-2SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.5,2.6,2.8,3.1,3.3,3.5,3.8,4.0,4.2,4.4,4.5,4.7,4.9,5.0]
      },
      {
      label: "-1SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.9,3.0,3.2,3.5,3.8,4.1,4.3,4.6,4.8,5.0,5.2,5.3,5.5,5.7]
      },
      {
      label: "Med",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [3.3,3.5,3.8,4.1,4.4,4.7,4.9,5.2,5.4,5.6,5.8,6.0,6.2,6.4]
      },
      {
      label: "1SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [3.9,4.0,4.3,4.7,5.0,5.3,5.6,5.9,6.1,6.4,6.6,6.8,7.0,7.2]
      },
      {
      label: "2SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [4.4,4.6,4.9,5.3,5.7,6.0,6.3,6.6,6.9,7.2,7.4,7.6,7.8,8.0]
      },
      {
      label: "3SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [5.0,5.3,5.6,6.0,6.4,6.8,7.2,7.5,7.8,8.0,8.3,8.5,8.8,9.0]
      },
      {
      label: "Your Kid",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "#F7464A",
      pointColor : "#F7464A",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "#F7464A",
      data : [randomScalingFactor()+3.3,
      randomScalingFactor()+3.5,
      randomScalingFactor()+3.8,
      randomScalingFactor()+4.1,
      randomScalingFactor()+4.4,
      randomScalingFactor()+4.7,
      randomScalingFactor()+4.9,
      randomScalingFactor()+5.2,
      randomScalingFactor()+5.4,
      randomScalingFactor()+5.6,
      randomScalingFactor()+5.8,
      randomScalingFactor()+6.0,
      randomScalingFactor()+6.2,
	  randomScalingFactor()+6.4]
      }
      ]
      }

	  var standarWeightGirlData = {
      labels : ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"],
      datasets : [
      {
      label: "-3SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.0,2.1,2.3,2.5,2.7,2.9,3.0,3.2,3.3,3.5,3.6,3.8,3.9,4.0]
      },
      {
      label: "-2SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.4,2.5,2.7,2.9,3.1,3.3,3.5,3.7,3.8,4.0,4.1,4.3,4.4,4.5]
      },
      {
      label: "-1SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [2.8,2.9,3.1,3.3,3.6,3.8,4.0,4.2,4.4,4.6,4.7,4.9,5.0,5.1]
      },
      {
      label: "Med",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [3.2,3.3,3.6,3.8,4.1,4.3,4.6,4.8,5.0,5.2,5.4,5.5,5.7,5.8]
      },
      {
      label: "1SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [3.7,3.9,4.1,4.4,4.7,5.0,5.2,5.5,5.7,5.9,6.1,6.3,6.5,6.6]
      },
      {
      label: "2SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [4.2,4.4,4.7,5.0,5.4,5.7,6.0,6.2,6.5,6.7,6.9,7.1,7.3,7.5]
      },
      {
      label: "3SD",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "rgba(220,220,220,1)",
      data : [4.8,5.1,5.4,5.7,6.1,6.5,6.8,7.1,7.3,7.6,7.8,8.1,8.3,8.5]
      },
      {
      label: "Your Kid",
      fillColor : "rgba(0,0,0,0)",
      strokeColor : "#F7464A",
      pointColor : "#F7464A",
      pointStrokeColor : "#fff",
      pointHighlightFill : "#fff",
      pointHighlightStroke : "#F7464A",
      data : [randomScalingFactor()+3.3,
      randomScalingFactor()+3.5,
      randomScalingFactor()+3.8,
      randomScalingFactor()+4.1,
      randomScalingFactor()+4.4,
      randomScalingFactor()+4.7,
      randomScalingFactor()+4.9,
      randomScalingFactor()+5.2,
      randomScalingFactor()+5.4,
      randomScalingFactor()+5.6,
      randomScalingFactor()+5.8,
      randomScalingFactor()+6.0,
      randomScalingFactor()+6.2,
	  randomScalingFactor()+6.4]
      }
      ]
      }
	  
      // Methods
      function loadChart(canvasName, sex){
        var ctx = document.getElementById(canvasName).getContext("2d");
  	  
   	    if(sex == "Boy"){
     	  window.myLine = new Chart(ctx).Line(standarWeightBoyData, {
          responsive: true,
          maintainAspectRatio: false,
          pointDot : true,
          showTooltips: true,
          bezierCurve : false,
          scaleLineWidth: 5,
          datasetStrokeWidth : 2,
          pointDotStrokeWidth : 1,
          scaleLabel: "<%=value%>",
          });
  	    }
  	    else{
    	  window.myLine = new Chart(ctx).Line(standarWeightGirlData, {
          responsive: true,
          maintainAspectRatio: false,
          pointDot : true,
          showTooltips: true,
          bezierCurve : false,
          scaleLineWidth: 5,
          datasetStrokeWidth : 2,
          pointDotStrokeWidth : 1,
          scaleLabel: "<%=value%>",
          });
  	    }
      }

      

      $("body").css("display", "none");
      $("body").show(500);

      function getQueryParams(qs) {
      qs = qs.split('+').join(' ');

      var params = {},
      tokens,
      re = /[?&]?([^=]+)=([^&]*)/g;

      while (tokens = re.exec(qs)) {
      params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
      }

      return params;
      }

      var query = getQueryParams(document.location.search);
      
      $(document).ready(function(){
  	     loadDataToMenu();
         loadDataToChart(query.id);
		 
		 // Set event
        $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        var target = $(e.target).attr("tag") // get id of canvas from 'tag' attribute
        loadChart(target, $('#sexValue').val());
        });
		
		setTimeout(function(){
              loadChart("canvasWeight", $('#sexValue').val());
            }, 1000);
	  });
	  
    </script>
  </body>
</html>
